!function(t,e,i,n,l,a,o){"use strict";var r=a.main||{};r.ArticleModel=n.Model.extend({defaults:{title:"",description:"",url:"",cover_image:"",id:"",completed:!1,quality:"",width:"",shard:""}}),r.ArticleCollection=n.Collection.extend({url:t.set_path("home/get_collection"),model:r.ArticleModel}),r.ArticleModelView=n.View.extend({tagName:"article",className:"cover_article_item",_set_template:function(){var t=this.model.get("type");"image_file"===t?(this.templateId="#image_file_template",this.className=".image_file_container"):"image_link"===t?(this.templateId="#image_link_template",this.className=".image_link_container"):"video_link"===t?(this.templateId="#video_link_template",this.className=".video_link_container"):(this.templateId="#image_link_template",this.className=".image_link_container"),this.template=i.template(e(this.templateId).html())},initialize:function(){this.model.set({cid:this.model.cid}),this._set_template()},render:function(){this.model.get("description")&&this.model.get("cover_image")&&this.$el.html(this.template(this.model.toJSON()));this.$el.find("img"),this.$el.find(".article_item_container figure");return this}}),r.TwitterTimeline=function(){function t(t){this.settings=e.extend({},n,t),this.$container=e(this.settings.container),this.__init__()}var n={script_id:"twitter-wjs",container:o,widget_id:o,nick_name:o,height:"",width:"",theme:"",color:""};return t.prototype.__init__=function(){this._remove_twitter_timeline(),this._add_twitter_timeline(),this._load_twitter_timeline(document,"script",this.settings.script_id)},t.prototype._remove_twitter_timeline=function(){e("script[id="+this.settings.script_id+"]").remove(),e("iframe.twitter-timeline").remove()},t.prototype._add_twitter_timeline=function(){var t=i.template('<a class="twitter-timeline" width={{width}} height={{height}} data-theme={{theme}} data-link-color={{color}} href="https://twitter.com/{{nick_name}}" data-widget-id="{{widget_id}}">Tweets por &#64;{{nick_name}}</a>'),e=t(this.settings);this.$container.append(e)},t.prototype._load_twitter_timeline=function(t,e,i){var n,l=t.getElementsByTagName(e)[0],a=/^http:/.test(t.location)?"http":"https";t.getElementById(i)||(n=t.createElement(e),n.id=i,n.src=a+"://platform.twitter.com/widgets.js",l.parentNode.insertBefore(n,l))},t}(),"undefined"==typeof jasmine&&e(function(){r.set_twitter_timeline=function(){var t=r.article_collection_view.breakpoints.width;new r.TwitterTimeline({height:t,width:t,container:"#twitter_timeline_container",widget_id:"447407654080491521",nick_name:"ruiz_andres"})},r.article_collection_view=new l({Collection:r.ArticleCollection,ModelView:r.ArticleModelView}),r.article_collection_view.after_render_all(r.set_twitter_timeline)}),a.main=r}(helpers,jQuery,_,Backbone,ArticleCollectionView,window);