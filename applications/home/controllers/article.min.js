!function(e,t,i,o,a,n){"use strict";var l=n.main||{};l.get_article_name=function(e){var e=e||n.location.pathname;return e=e.replace("/proyectos/",""),e=e.replace("~andresru",""),"/"===e[0]&&(e=e.substr(1)),e},l.$image=t("#zoom-in-image"),l.$wrapper=t("#zoom-in-container"),l.$container=t("#full-size-box"),l.ImageModel=o.Model.extend({defaults:{id:null,url:"",article_name:"",description:"",completed:!1,quality:null,width:null,shard:null}}),l.ImageCollection=o.Collection.extend({url:e.set_path("images/"+l.get_article_name()),model:l.ImageModel}),l.ImageModelView=o.View.extend({tagName:"article",className:"image_item",template:i.template(t("#imageTemplate").html()),render:function(){return this.$el.html(this.template(this.model.toJSON())),this},events:{"click .icon-resize-full":"zoom_out_image"},fix_image_size:function(e,i,o){function a(){var t,a;e.css({"max-width":o.outerWidth(),"max-height":o.outerHeight(),height:"auto",width:"auto"}),e.outerHeight()<o.outerHeight()?(t=o.outerHeight()-e.outerHeight(),a=String(Math.round(t/2))+"px"):a="0px",i.css({top:a})}e.on("load resize error",a),t(n).on("resize",a)},zoom_out_image:function(){var t=this.model.get("url"),i="http://src.sencha.io/jpg90/720/"+e._PROTOCOL+"//"+e._HOSTNAME+e.set_path(t);l.$image.attr("src",i),this.fix_image_size(l.$image,l.$wrapper,l.$container),l.$container.fadeIn()}}),t(".icon-resize-small").on("click",function(){l.$container.fadeOut(function(){l.$image.attr("src","")})}),"undefined"==typeof __testmode__&&t(function(){l.image_collection_view=new a({Collection:l.ImageCollection,ModelView:l.ImageModelView})}),n.main=l}(helpers,jQuery,_,Backbone,ArticleCollectionView,window);