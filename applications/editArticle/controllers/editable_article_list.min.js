!function(e,t,i,l,a,n){"use strict";var o=n.main||{};o.ArticleItemModel=t.Model.extend({defaults:{title:"",cover_image:"",id:"",quality:"",width:"",height:"",shard:""}}),o.ArticleListCollection=t.Collection.extend({url:l.set_path("/admin/get-list-of-articles"),model:o.ArticleItemModel}),o.ArticleItemView=t.View.extend({tagName:"article",_set_template:function(){var t=this.model.get("type");"image_file"===t?(this.templateId="#image_file_template",this.className=".image_file_container"):"image_link"===t?(this.templateId="#image_link_template",this.className=".image_link_container"):"video_link"===t?(this.templateId="#video_link_template",this.className=".video_link_container"):(this.templateId="#image_link_template",this.className=".image_link_container"),this.template=i.template(e(this.templateId).html())},initialize:function(){i.bindAll(this,"render"),this.model.set({cid:this.model.cid}),this._set_template(),this.model.on("change",this.render)},render:function(){return this.$el.html(this.template(this.model.toJSON())),this.$el.attr("id","item_"+this.model.cid),this},events:function(){var e=this.model.cid,t={};return t["click #edit_"+e]="go_to_edit_page",t["click #remove_"+e]="remove_article",t},go_to_edit_page:function(){l.redirect("/"+this.model.get("edit_url"))},remove_article:function(){var t,i=confirm("¿Seguro que desea borrar el artículo **"+this.model.get("title")+"**? Esta acción no se puede deshacer."),a=this.model.cid;t=function(){e("#item_"+a).remove()},i&&e.post(l.set_path("/admin/remove-article"),this.model.toJSON(),t)}}),"undefined"==typeof jasmine&&e(function(){o.articleListView=new a({Collection:o.ArticleListCollection,ModelView:o.ArticleItemView})}),n.main=o}(jQuery,Backbone,_,helpers,ArticleCollectionView,window);